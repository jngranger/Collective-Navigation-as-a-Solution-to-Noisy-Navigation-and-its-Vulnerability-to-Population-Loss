---
title: "Declining Population"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(readr)
library(ggplot2)
library(viridis)
directory="C:/Users/Jesse/Dropbox (Duke Bio_Ea)/Jesse/Duke/Research/Navigation Orientation/Flocking Model/Models and Code for Publication/"
source(paste0(directory,"/Cleaning Netlogo Function for Pub.R"))
```


# Population over time: Error = 100, Flocking Weight = 0.2

Load the data and wrangle into a useable format

```{r}
df2=read_csv(paste0(directory,"/Flocking Model_Leaders and Compounding Loss pop over time-spreadsheet.csv"), col_names = F,skip = 6)

 
df2_clean=clean_nlogo(df2,reps = 30,num.variables = 2,
                                  p.max = 1,p.min = 1,p.by = 1,
                      num.things.varied = 2,
                      var.names = c("pop","ticks"),
                      newcolnames = c("NavWeight","run","coltype")) %>% 
  mutate(Generations=(ticks-1)/1500)
```

Plot

```{r}
df2_clean %>% 
  ggplot()+
  geom_smooth(aes(Generations,pop))+
  theme_classic()+
  scale_y_log10()+
  ylab("Log( Population Size )")
```

